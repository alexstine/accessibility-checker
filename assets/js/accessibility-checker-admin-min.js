!function($){"use strict";$((function(){$("input[type=checkbox][name=edac_add_footer_accessibility_statement]").on("change",(function(){this.checked?$("input[type=checkbox][name=edac_include_accessibility_statement_link]").prop("disabled",!1):($("input[type=checkbox][name=edac_include_accessibility_statement_link]").prop("disabled",!0),$("input[type=checkbox][name=edac_include_accessibility_statement_link]").prop("checked",!1))})),"none"==$("input[type=radio][name=edac_simplified_summary_position]:checked").val()&&$("#ac-simplified-summary-option-code").show(),$("input[type=radio][name=edac_simplified_summary_position]").on("load",(function(){"none"==this.value?$("#ac-simplified-summary-option-code").show():$("#ac-simplified-summary-option-code").hide()}))})),$(window).on("load",(function(){function e(){let e=edac_script_vars.postID;null!=e&&$.ajax({url:ajaxurl,method:"GET",data:{action:"edac_summary_ajax",post_id:e,nonce:edac_script_vars.nonce}}).done((function(e){if(!0===e.success){let a=$.parseJSON(e.data);a.password_protected&&r()?wp.data.dispatch("core/notices").createInfoNotice(a.password_protected,{id:"edac-password-protected-error",type:"default",speak:!0,__unstableHTML:!0}):$(".edac-summary").html(a)}else console.log(e)}))}function a(){let e=edac_script_vars.postID;null!=e&&$.ajax({url:ajaxurl,method:"GET",data:{action:"edac_details_ajax",post_id:e,nonce:edac_script_vars.nonce}}).done((function(e){if(!0===e.success){let a=$.parseJSON(e.data);$(".edac-details").html(a),$(".edac-details-rule-title").click((function(e){$(this).hasClass("active")?($(this).next().slideUp(),$(this).removeClass("active")):($(this).next().slideDown(),$(this).addClass("active"))})),$(".edac-details-rule-title-arrow").click((function(e){e.preventDefault(),"true"===$(this).attr("aria-expanded")?$(this).attr("aria-expanded","false"):$(this).attr("aria-expanded","true")})),$(".edac-details-rule-records-record-actions-ignore").click((function(e){e.preventDefault(),$(this).parent().next(".edac-details-rule-records-record-ignore").slideToggle(),"true"===$(this).attr("aria-expanded")?$(this).attr("aria-expanded","false"):$(this).attr("aria-expanded","true")})),s()}else console.log(e)}))}function t(){let a=edac_script_vars.postID;null!=a&&$.ajax({url:ajaxurl,method:"GET",data:{action:"edac_readability_ajax",post_id:a,nonce:edac_script_vars.nonce}}).done((function(i){if(!0===i.success){let c=$.parseJSON(i.data);$(".edac-readability").html(c),$(".edac-readability-simplified-summary").submit((function(i){i.preventDefault();let c=$("#edac-readability-text").val();$.ajax({url:ajaxurl,method:"GET",data:{action:"edac_update_simplified_summary",post_id:a,summary:c,nonce:edac_script_vars.nonce}}).done((function(a){if(!0===a.success){$.parseJSON(a.data);t(),e()}else console.log(a)}))}))}else console.log(i)}))}if($(".edac-tab").click((function(e){e.preventDefault();var a=$("a",this).attr("href");$(".edac-panel").hide(),$(".edac-panel").removeClass("active"),$(".edac-tab a").removeClass("active").attr("aria-current",!1),$(a).show(),$(a).addClass("active"),$("a",this).addClass("active").attr("aria-current",!0)})),$(".edac-tab-summary").click((function(a){e()})),r()){var i=wp.data.select("core/edit-post"),c=!1;wp.data.subscribe((function(){var s=i.isSavingMetaBoxes();s&&$(".edac-panel").addClass("edac-panel-loading"),s===c||s||(c=s,e(),a(),t(),$(".edac-panel").removeClass("edac-panel-loading")),c=s}))}function s(){$(".edac-details-rule-records-record-ignore-submit").click((function(e){e.preventDefault();let a=[$(this).attr("data-id")],t=$(this).attr("data-action"),i=$(this).attr("data-type"),c=$(".edac-details-rule-records-record-ignore-comment",$(this).parent()).val();$.ajax({url:ajaxurl,method:"GET",data:{action:"edac_insert_ignore_data",ids:a,comment:c,ignore_action:t,ignore_type:i,nonce:edac_script_vars.nonce}}).done((function(e){if(!0===e.success){let i=$.parseJSON(e.data),c="#edac-details-rule-records-record-"+i.ids[0],s="enable"==i.action?"disable":"enable",r="enable"==i.action,o="enable"==i.action?"Ignored":"Ignore",n="enable"==i.action?"Stop Ignoring":"Ignore This "+i.type,d=i.user?"<strong>Username:</strong> "+i.user:"",l=i.date?"<strong>Date:</strong> "+i.date:"";$(c+" .edac-details-rule-records-record-ignore-submit").attr("data-action",s),$(c+" .edac-details-rule-records-record-ignore-comment").attr("disabled",r),"enable"!=i.action&&$(c+" .edac-details-rule-records-record-ignore-comment").val(""),$(c+" .edac-details-rule-records-record-actions-ignore").toggleClass("active"),$(".edac-details-rule-records-record-actions-ignore[data-id='"+a[0]+"']").toggleClass("active"),$(c+" .edac-details-rule-records-record-actions-ignore-label").html(o),$(".edac-details-rule-records-record-actions-ignore[data-id='"+a[0]+"'] .edac-details-rule-records-record-actions-ignore-label").html(o),$(c+" .edac-details-rule-records-record-ignore-submit-label").html(n),$(c+" .edac-details-rule-records-record-ignore-info-user").html(d),$(c+" .edac-details-rule-records-record-ignore-info-date").html(l);let u=$(c).parents(".edac-details-rule"),p=parseInt($(".edac-details-rule-count",u).html());"enable"==i.action?p--:"disable"==i.action&&p++,0==p?$(".edac-details-rule-count",u).removeClass("active"):$(".edac-details-rule-count",u).addClass("active"),p.toString(),$(".edac-details-rule-count",u).html(p);var t=parseInt($(".edac-details-rule-count-ignore",u).html());"enable"==i.action?t++:"disable"==i.action&&t--,0==t?$(".edac-details-rule-count-ignore",u).hide():$(".edac-details-rule-count-ignore",u).show(),t.toString(),$(".edac-details-rule-count-ignore",u).html(t+" Ignored Items"),($("body").hasClass("accessibility-checker_page_accessibility_checker_issues")||$("body").hasClass("accessibility-checker_page_accessibility_checker_ignored"))&&location.reload(!0)}else console.log(e)}))}))}function r(){return!document.body.classList.contains("widgets-php")&&document.body.classList.contains("block-editor-page")}function o(e,a){$.ajax({url:ajaxurl,method:"GET",data:{action:"edac_review_notice_ajax",review_action:e,nonce:edac_script_vars.nonce}}).done((function(e){if(!0===e.success){$.parseJSON(e.data);$(".edac-review-notice").fadeOut(),a&&(window.location.href="https://wordpress.org/support/plugin/accessibility-checker/reviews/#new-post")}else console.log(e)}))}$(".edac-review-notice").length&&($(".edac-review-notice-review").on("click",(function(){o("stop",!0)})),$(".edac-review-notice-remind").on("click",(function(){o("pause",!1)})),$(".edac-review-notice-dismiss").on("click",(function(){o("stop",!1)}))),e(),a(),t(),s()}))}(jQuery);