!function($){"use strict";$((function(){let t;var e=function(t){var e,i,l=window.location.search.substring(1).split("&");for(i=0;i<l.length;i++)if((e=l[i].split("="))[0]===t)return void 0===e[1]||decodeURIComponent(e[1]);return!1}("edac");function i(t){let e=$(window).width(),i=t.position(),l=i.top+7,o=i.left+t.width()+10;i.left>e/2?(o=i.left-t.next(".edac-highlight-tooltip").outerWidth()-15,t.next(".edac-highlight-tooltip").addClass("edac-highlight-tooltip-left")):(o=i.left+t.outerWidth()+15,t.next(".edac-highlight-tooltip").removeClass("edac-highlight-tooltip-left")),t.next(".edac-highlight-tooltip").css({left:o+"px",top:l+"px"}),t.next(".edac-highlight-tooltip").fadeIn()}function l(){t=setTimeout((function(){$(".edac-highlight-tooltip").fadeOut(400)}),400)}edac_script_vars.loggedIn&&e&&function(e){$.ajax({url:edac_script_vars.ajaxurl,method:"GET",data:{action:"edac_frontend_highlight_ajax",id:e,nonce:edac_script_vars.nonce}}).done((function(e){if(!0===e.success){let o=$.parseJSON(e.data);console.log(o);let a=$.parseHTML(o.object),h=a[0].nodeName;console.log(a);let n=h,s=a[0].innerText,c=s?s.replace(/ /g,""):"",d="",r=["id","class","href","src","alt","aria-hidden","role","focusable","width","height","aria-label","rel","target"];c&&s&&"A"==h&&(s=s.replace(/\s+/g," ").trim(),n+=":contains('"+s+"')"),$(a[0].attributes).each((function(){-1!==jQuery.inArray(this.nodeName,r)&&""!=this.nodeValue&&(d+="["+this.nodeName+'="'+this.nodeValue+'"]')})),n+=d,console.log("Element selector: "+n);let g=$(n);g.length?$(g).each((function(e){let a=$(this);var h;"empty_link"==o.rule&&a.attr("aria-label")||(a.wrap('<div class="edac-highlight edac-highlight-'+o.ruletype+'"></div>'),a.before('<div class="edac-highlight-tooltip-wrap"><button class="edac-highlight-btn edac-highlight-btn-'+o.ruletype+'" aria-label="'+o.rule_title+'" aria-expanded="false" aria-controls="edac-highlight-tooltip-'+o.id+'"></button><div class="edac-highlight-tooltip" id="edac-highlight-tooltip-'+o.id+'"><strong class="edac-highlight-tooltip-title">'+o.rule_title+'</strong><a href="'+o.link+'" class="edac-highlight-tooltip-reference" target="_blank" aria-label="Read documentation for '+o.rule_title+', opens new window"><span class="dashicons dashicons-info"></span></a><br /><p>'+o.summary+"</p></div></div>"),e===$("selector").length-1&&function(t){let e,i=t.offset().top,l=t.height(),o=$(window).height();e=l<o?i-(o/2-l/2):i;$([document.documentElement,document.body]).animate({scrollTop:e},500)}(a),$(".edac-highlight-tooltip").hide(),$(".edac-highlight-btn").mouseover((function(){i($(this)),clearTimeout(t),$(this).next(".edac-highlight-tooltip").fadeIn(400)})).mouseout(l),$(".edac-highlight-tooltip").mouseover((function(){clearTimeout(t)})).mouseout(l),$(".edac-highlight-btn").click((function(){i($(this)),"false"==$(this).attr("aria-expanded")?($(this).next(".edac-highlight-tooltip").fadeIn(400),$(this).attr("aria-expanded","true")):($(this).next(".edac-highlight-tooltip").fadeOut(400),$(this).attr("aria-expanded","false"))})),$(".edac-highlight-btn",a.parent()).first().focus(),$(".edac-highlight-btn",a.parent()).is(":visible")?console.log("Element visible: true"):(console.log("Element visible: false"),confirm("The element may be hidden on the page. Would you like to disable styles?")&&(h=$("head").find('style[type="text/css"]').add("style").add('link[rel="stylesheet"]'),$("* [style]").not(".edac-highlight-tooltip").removeAttr("style"),$(h).each((function(){console.log(this.id),"edac-css"!=this.id&&"dashicons-css"!=this.id||h.splice($.inArray(this,h),1)})),$("head").data("css",h),h.remove())))})):alert("Accessibility Checker could not find the element on the page.")}else console.log(e)}))}(e)}))}(jQuery);