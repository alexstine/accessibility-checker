!function($){"use strict";$((function(){let t;var e=function(t){var e,i,o=window.location.search.substring(1).split("&");for(i=0;i<o.length;i++)if((e=o[i].split("="))[0]===t)return void 0===e[1]||decodeURIComponent(e[1]);return!1}("edac");function i(t){let e=$(window).width(),i=t.position(),o=i.top+7,l=i.left+t.width()+10;i.left>e/2?(l=i.left-t.next(".edac-highlight-tooltip").outerWidth()-15,t.next(".edac-highlight-tooltip").addClass("edac-highlight-tooltip-left")):(l=i.left+t.outerWidth()+15,t.next(".edac-highlight-tooltip").removeClass("edac-highlight-tooltip-left")),t.next(".edac-highlight-tooltip").css({left:l+"px",top:o+"px"}),t.next(".edac-highlight-tooltip").fadeIn()}function o(){t=setTimeout((function(){$(".edac-highlight-tooltip").fadeOut(400)}),400)}edac_script_vars.loggedIn&&e&&function(e){$.ajax({url:edac_script_vars.ajaxurl,method:"GET",data:{action:"edac_frontend_highlight_ajax",id:e,nonce:edac_script_vars.nonce}}).done((function(e){if(!0===e.success){let a=$.parseJSON(e.data),h=$.parseHTML(a.object),n=h[0].nodeName;console.log(h);let s=n,d=h[0].innerText,c="",r=["id","class","href","src","alt","aria-hidden","role","focusable","width","height","aria-label","rel","target"];d&&"A"==n&&(s+=":contains('"+d+"')"),$(h[0].attributes).each((function(){-1!==jQuery.inArray(this.nodeName,r)&&""!=this.nodeValue&&(c+="["+this.nodeName+'="'+this.nodeValue+'"]')})),s+=c,console.log("Element selector: "+s);let g=$(s);g.length?(g.wrap('<div class="edac-highlight edac-highlight-'+a.ruletype+'"></div>'),g.before('<div class="edac-highlight-tooltip-wrap"><button class="edac-highlight-btn edac-highlight-btn-'+a.ruletype+'" aria-label="'+a.rule_title+'" aria-expanded="false" aria-controls="edac-highlight-tooltip-'+a.id+'"></button><div class="edac-highlight-tooltip" id="edac-highlight-tooltip-'+a.id+'"><strong class="edac-highlight-tooltip-title">'+a.rule_title+'</strong><a href="'+a.link+'" class="edac-highlight-tooltip-reference" target="_blank" aria-label="Read documentation for '+a.rule_title+', opens new window"><span class="dashicons dashicons-info"></span></a><br /><span>'+a.summary+"</span></div></div>"),function(t){let e,i=t.offset().top,o=t.height(),l=$(window).height();e=o<l?i-(l/2-o/2):i;$([document.documentElement,document.body]).animate({scrollTop:e},500)}(g),$(".edac-highlight-tooltip").hide(),$(".edac-highlight-btn").mouseover((function(){i($(this)),clearTimeout(t),$(this).next(".edac-highlight-tooltip").fadeIn(400)})).mouseout(o),$(".edac-highlight-tooltip").mouseover((function(){clearTimeout(t)})).mouseout(o),$(".edac-highlight-btn").click((function(){i($(this)),"false"==$(this).attr("aria-expanded")?($(this).next(".edac-highlight-tooltip").fadeIn(400),$(this).attr("aria-expanded","true")):($(this).next(".edac-highlight-tooltip").fadeOut(400),$(this).attr("aria-expanded","false"))})),$(".edac-highlight-btn",g.parent()).first().focus(),$(".edac-highlight-btn",g.parent()).is(":visible")?console.log("Element visible: true"):(console.log("Element visible: false"),confirm("The element may be hidden on the page. Would you like to disable styles?")&&(l=$("head").find('style[type="text/css"]').add("style").add('link[rel="stylesheet"]'),$("* [style]").not(".edac-highlight-tooltip").removeAttr("style"),$(l).each((function(){console.log(this.id),"edac-css"!=this.id&&"dashicons-css"!=this.id||l.splice($.inArray(this,l),1)})),$("head").data("css",l),l.remove()))):alert("Accessibility Checker could not find the element on the page.")}else console.log(e);var l}))}(e)}))}(jQuery);